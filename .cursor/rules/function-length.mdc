---
alwaysApply: true
---

# Function Length & Splitting Guidelines

## Maximum Function Length
- **Hard Limit**: Functions must not exceed 50 lines
- **Soft Limit**: Functions should ideally be under 30 lines
- **Exception**: Pure data structures or configuration objects may exceed limits

## Function Complexity Thresholds
- **Cyclomatic Complexity**: Maximum of 10 decision points per function
- **Nesting Depth**: Maximum 3 levels of nested control structures
- **Parameters**: Maximum 5 parameters per function

## Mandatory Splitting Scenarios
- Functions with multiple responsibilities or concerns
- Functions with more than 3 logical sections
- Functions that handle both business logic and side effects
- Functions that mix abstraction levels

## Splitting Strategies
- **Extract Method**: Create smaller functions for logical blocks
- **Extract Class**: Group related functions into cohesive classes
- **Strategy Pattern**: Replace conditional logic with polymorphism
- **Composition**: Break complex operations into pipeline of simple functions

## Function Naming After Split
- Use descriptive names that clearly indicate function purpose
- Private helper functions should start with underscore
- Use verb-noun patterns for action functions
- Use boolean-returning functions with "is", "has", "can" prefixes

## Refactoring Requirements
- Split functions immediately when they exceed limits
- Preserve original functionality and behavior
- Maintain type safety throughout refactoring
- Update tests to cover new function boundaries